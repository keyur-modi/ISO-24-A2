<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Krishi Report</title>

    <!-- Bootstrap -->
    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet">
	<link rel="stylesheet" href="{{url_for('static', filename='css/font-awesome.min.css')}}">
	<link rel="stylesheet" href="{{url_for('static', filename='css/animate.css')}}">
	<link href="{{url_for('static', filename='css/prettyPhoto.css')}}" rel="stylesheet">
	<link href="{{url_for('static', filename='css/style.css')}}" rel="stylesheet" />	
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/2.3.4/cropper.min.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/0.8.1/cropper.min.js"></script>
	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <style type="text/css">
				
		.page {
			margin: 1em auto;
			max-width: 768px;
			display: flex;
			align-items: flex-start;
			flex-wrap: wrap;
			height: 100%;
		}

		.box {
			padding: 0.5em;
			width: 100%;
			margin:0.5em;
			color: red
		}

		.box-2 {
			padding: 0.5em;
			width: calc(100%/2 - 1em);
		}

		.options label,
		.options input{
			width:4em;
			padding:0.5em 1em;
		}
		.btn{
			background:white;
			color:black;
			border:1px solid black;
			padding: 0.5em 1em;
			text-decoration:none;
			margin:0.8em 0.3em;
			display:inline-block;
			cursor:pointer;
		}

		.hide {
			display: none;
		}

		img {
			max-width: 100%;
		}

	</style>
  <body>
	<header>		
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="navigation">
				<div class="container">					
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse.collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<div class="navbar-brand">
							<a href="/"><h1><span>Krishi</span>Report</h1></a>
						</div>
					</div>
					
					<div class="navbar-collapse collapse">							
						<div class="menu">

							<ul class="nav nav-tabs" role="tablist">
							<img src="{{url_for('static', filename='images/slider/logo.png')}}" style="width: 100px" class="img-rounded" alt="Cinque Terre">
								
						</div>
					</div>						
				</div>
			</div>	
		</nav>		
	</header>
	
	<section id="main-slider" class="no-margin">
        <div class="carousel slide">      
            <div class="carousel-inner">
                <div class="item active" style="background-image: url({{ url_for('static', filename='images/slider/crop.jpeg') }})">
                    <div class="container">
                        <div class="row slide-margin">
                            <div class="col-sm-6">
                                <div class="carousel-content">
                                    <h2 class="animation animated-item-1">Welcome</h2>
                                    <p class="animation animated-item-2"></p>
                                </div>
                            </div>

                            <div class="col-sm-6 hidden-xs animation animated-item-4">
                                <div class="slider-img">
                                    
                                </div>
                            </div>

                        </div>
                    </div>
                </div><!--/.item-->             
            </div><!--/.carousel-inner-->
        </div><!--/.carousel-->
    </section><!--/#main-slider-->
    <div class="feature">
		<div class="container">
			<video style="width: 100%" controls>
			  <source src="{{url_for('static', filename='video.mp4')}}" type="video/mp4">
			</video>
		</div>
	</div>
	<!--
	<div class="feature">
		<div class="container">
			<div class="text-center">
				<div class="col-md-3">
					<div class="hi-icon-wrap hi-icon-effect wow fadeInDown" data-wow-duration="1000ms" data-wow-delay="300ms" >
						<i class="fa fa-book"></i>	
						<h2>Full Responsive</h2>
						<p>Quisque eu ante at tortor imperdiet gravida nec sed turpis phasellus.</p>
					</div>
				</div>
				<div class="col-md-3">
					<div class="hi-icon-wrap hi-icon-effect wow fadeInDown" data-wow-duration="1000ms" data-wow-delay="600ms" >
						<i class="fa fa-laptop"></i>	
						<h2>Retina Ready</h2>
						<p>Quisque eu ante at tortor imperdiet gravida nec sed turpis phasellus.</p>
					</div>
				</div>
				<div class="col-md-3">
					<div class="hi-icon-wrap hi-icon-effect wow fadeInDown" data-wow-duration="1000ms" data-wow-delay="900ms" >
						<i class="fa fa-heart-o"></i>	
						<h2>Full Responsive</h2>
						<p>Quisque eu ante at tortor imperdiet gravida nec sed turpis phasellus.</p>
					</div>
				</div>
				<div class="col-md-3">
					<div class="hi-icon-wrap hi-icon-effect wow fadeInDown" data-wow-duration="1000ms" data-wow-delay="1200ms" >
						<i class="fa fa-cloud"></i>	
						<h2>Friendly Code</h2>
						<p>Quisque eu ante at tortor imperdiet gravida nec sed turpis phasellus.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	-->
	<div class="about">
		<div class="container">
			<div class="col-md-6 wow fadeInDown" data-wow-duration="1000ms" data-wow-delay="300ms" >
				<h2>Find Crop</h2>
				<h3 style="color: red">Please follow the above mentioned steps to upload the picture
				</h3>
				<p>
					{% with messages = get_flashed_messages() %}
					  {% if messages %}
						
						{% for message in messages %}
						  <h1 style="color:black;padding:10px;border: 2px double green">{{ message }}</h1>
						{% endfor %}
						
					  {% endif %}
					{% endwith %}
				</p>
				</div>
	<main class="page">
		<h2>Please upload a image</h2>
		

		<!-- input file -->
		<div class="box">
		<form method="post" action="/" enctype="multipart/form-data">
			<input style="padding:10px" type="file" name="file" autocomplete="off" id="file-input" required>
		</div>
		<!-- leftbox -->
		<div class="box-2">
			<div class="result"></div>
		</div>
		<!--rightbox-->
		<div class="box-2 img-result hide">
			<!-- result of crop -->
			<img class="cropped" src="{{url_for('static', filename='images/slider/crop.jpeg')}}" >
		</div>
		<!-- input file -->
		<div class="box">
			<div class="options hide">
				<label> Width</label>
				<input type="number" class="img-w" value="300" min="100" max="1200" />
			</div>
			<!-- save btn -->
			<input type="submit" value="Submit">
		</div>
	</main>

			</div>
			
		
		</div>
	</div>
	
	
	
	
	<footer>
		<div class="footer">
			<div class="container">
				<div class="social-icon">
					<div class="col-md-4">
						<div id="google_translate_element"></div>
											</div>
				</div>
				
				
			</div>
			
			<div class="pull-right">
				<a href="#home" class="scrollup"><i class="fa fa-angle-up fa-3x"></i></a>
			</div>		
		</div>
	</footer>
	<script type="text/javascript">
				// vars
		let result = document.querySelector('.result'),
		img_result = document.querySelector('.img-result'),
		img_w = document.querySelector('.img-w'),
		img_h = document.querySelector('.img-h'),
		options = document.querySelector('.options'),
		save = document.querySelector('.save'),
		cropped = document.querySelector('.cropped'),
		dwn = document.querySelector('.download'),
		upload = document.querySelector('#file-input'),
		cropper = '';

		// on change show image with crop options
		upload.addEventListener('change', (e) => {
		  if (e.target.files.length) {
				// start file reader
		    const reader = new FileReader();
		    reader.onload = (e)=> {
		      if(e.target.result){
						// create new image
						let img = document.createElement('img');
						img.id = 'image';
						img.src = e.target.result
						// clean result before
						result.innerHTML = '';
						// append new image
		        result.appendChild(img);
						// show save btn and options
						save.classList.remove('hide');
						options.classList.remove('hide');
						// init cropper
						cropper = new Cropper(img);
		      }
		    };
		    reader.readAsDataURL(e.target.files[0]);
		  }
		});

		// save on click
		save.addEventListener('click',(e)=>{
		  e.preventDefault();
		  // get result to data uri
		  let imgSrc = cropper.getCroppedCanvas({
				width: img_w.value // input value
			}).toDataURL();
		  // remove hide class of img
		  cropped.classList.remove('hide');
			img_result.classList.remove('hide');
			// show image cropped
		  cropped.src = imgSrc;
		  dwn.classList.remove('hide');
		  dwn.download = 'imagename.png';
		  dwn.setAttribute('href',imgSrc);
		});
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}
	</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

	
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="{{url_for('static', filename='js/jquery-2.1.1.min.js')}}"></script>	
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{{url_for('static', filename='js/bootstrap.min.js')}}"></script>
	<script src="{{url_for('static', filename='js/jquery.prettyPhoto.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.isotope.min.js')}}"></script>  
	<script src="{{url_for('static', filename='js/wow.min.js')}}"></script>
	<script src="{{url_for('static', filename='js/functions.js')}}"></script>

	
  </body>
</html>